db.counters.insertOne({ _id: "video_seq", value: 0 });

function getNextSequence(name) {
  const ret = db.counters.findOneAndUpdate(
    { _id: name },
    { $inc: { value: 1 } },
    {
      upsert: true,
      returnDocument: "after"   // zwraca ju≈º zaktualizowany dokument
    }
  );
  return ret.value;
}